$(".search-input").on("keyup",function(){var i=$(this).val().toLowerCase();if(""===i.trim()){var t=$("#maxRows").val();updateVisibleRows(parseInt(t),1);return}$("#table-id tbody tr").each(function(){var t=!1,a=!1;$(this).hasClass("order-row")&&($(this).find("td").each(function(){if($(this).text().toLowerCase().includes(i))return t=!0,!1;var a=$(this).find("input, select").val();if(a&&a.toLowerCase().includes(i))return t=!0,!1}),t?($(this).show(),a=!0):$(this).hide(),$(this).nextUntil(".order-row").each(function(){$(this).hasClass("detail-row")&&(a?$(this).show():$(this).hide())}))})}),$("#maxRows").on("change",function(){var i=$(this).val();$("#table-id tbody tr").hide(),$("#table-id tbody tr:lt("+i+")").show(),$('.page-item[data-page="1"] .page-link').click()});var initialMaxRows=$("#maxRows").val();function updateVisibleRows(i,t){var a=$("#table-id").find("tr.order-row"),e=(t-1)*i,n=e+i;a.each(function(i){i>=e&&i<n?($(this).show(),$(this).nextUntil("tr.order-row").show()):($(this).hide(),$(this).nextUntil("tr.order-row").hide())})}function updateOrderTime(){var i=document.querySelectorAll(".text-success"),t=new Date;i.forEach(function(i){var a,e=i.textContent.trim(),n=new Date(e);if(!isNaN(n)){var o=(t-n)/1e3;a=o<60?"New":o<3600?Math.floor(o/60)+" minute"+(Math.floor(o/60)>1?"s":"")+" ago":o<86400?Math.floor(o/3600)+" hour"+(Math.floor(o/3600)>1?"s":"")+" ago":o<2592e3?Math.floor(o/86400)+" day"+(Math.floor(o/86400)>1?"s":"")+" ago":o<31536e3?Math.floor(o/2592e3)+" month"+(Math.floor(o/2592e3)>1?"s":"")+" ago":"Old",i.textContent=a}})}function getPagination(i){var t=1,a=$(i),e=$("#maxRows"),n=$(".pagination"),o=a.find("tr.order-row");function r(i,t){var a=(t-1)*i,e=a+i;o.hide().slice(a,e).show(),o.nextUntil("tr.order-row").hide().slice(a,e).show()}e.on("change",function(){t=1,n.find("li").slice(1,-1).remove();var i=parseInt($(this).val());5e3===i?n.hide():n.show(),function i(a){for(var e=Math.ceil(o.length/a),s=1;s<=e;s++)n.find("#prev").before('<li class="page-item" data-page="'+s+'">                <a class="page-link">                    <span>'+s+'</span>                    <span class="sr-only">(current)</span>                </a>            </li>').show();n.find('[data-page="1"]').addClass("active"),n.off("click").on("click","li",function(i){i.preventDefault();var e=$(this).attr("data-page");if("prev"===e){if(!(t>1))return;e=--t}else if("next"===e){if(!(t<e-1))return;e=++t}else t=e;n.find(".active").removeClass("active"),n.find('[data-page="'+t+'"]').addClass("active"),r(a,t)})}(i),r(i,1)}).val(10).change(),r(parseInt(e.val()),1),limitPagging()}function limitPagging(){if($(".pagination li").length>7){var i=parseInt($(".pagination li.active").attr("data-page"));if(i<=3)$(".pagination li:gt(5)").hide(),$(".pagination li:lt(5)").show(),$('.pagination [data-page="next"]').show();else{$(".pagination li:gt(0)").hide(),$('.pagination [data-page="next"]').show();for(var t=i-2;t<=i+2;t++)$('.pagination [data-page="'+t+'"]').show()}}}$("#table-id tbody tr").hide(),$("#table-id tbody tr:lt("+initialMaxRows+")").show(),getPagination("#table-id"),updateOrderTime();
